{% macro sommaire(liste) %}
    <ul class="df fw-w sommaire">
        {% for item in liste %}
            <li class="df jc-c ai-c sommaire__item">
                <a href="#{{ item | slug }}">
                    {{ item }}
                </a>
            </li>
         {% endfor %}
    </ul>
{% endmacro %}




{% macro h2(titre, titreSurcharger) %}
    <h2 id="{{ titre | slug  }}">
        {% if titreSurcharger %}
            {{ titreSurcharger | safe }}
        {% else %}
            {{ titre | safe }}
        {% endif %}
    </h2>
{% endmacro %}




{% macro texteEtVisuel(typeHeroBanner,titre,titreArt,contenu,srcImage,altImage,galerie,hrefLien,labelLien,margetop,inverseBloc,basculeVisibiliteId,basculeVisibiliteLabelOn,basculeVisibiliteLabelOff,basculeVisibiliteContenu) %}
    <div class="df fd-c fd-r--large ai-fs ai-c--large gap2{% if margetop %} mt{% endif %}">
        
        {% if galerie %}
            <div class="df w-50--large sst-m{% if inverseBloc %} order-1--large{% endif %} js_scroll-x">
                {% for image in galerie %}
                    <img src="{{image.src}}" alt="{{image.alt}}">
                {% endfor %}
            </div>
        {% else %}
            <img src="{{srcImage}}" alt="{{altImage}}" class="w-50--large{% if inverseBloc %} order-1--large{% endif %}">
        {% endif %}
        <div class="df fd-c gap w-50--large">
            {% if titre %}
                {% if typeHeroBanner %}
                    <h2 class="text-typo2 text-size1 text-fin">&laquo;&nbsp;{{titre}}&nbsp;&raquo;</h2>
                {% elif titreArt %}
                    <h3 class="text-typo2 text-size1 text-fin"><em>{{titre}}</em></h3>
                {% else %}
                    <h3 class="text-typo2 text-size1 text-fin">&laquo;&nbsp;{{titre}}&nbsp;&raquo;</h3>
                {% endif %}
            {% endif %}
            <div{% if typeHeroBanner %} class="text-size2"{% endif %}>
                {{contenu | safe}}
            </div>
            {% if hrefLien and labelLien %}
                <a href="{{hrefLien}}" rel="external">{{labelLien}}</a>
            {% endif %}
        </div>
    </div>
    {% if basculeVisibiliteId and basculeVisibiliteLabelOn and basculeVisibiliteLabelOff and basculeVisibiliteContenu %}
    <div class="js_bascule-visibilite__zone mt hide" data-zone="{{ basculeVisibiliteId }}">
        <ul class="list">
            {% for item in basculeVisibiliteContenu %}
                <li>
                    <span class="text-size1 text-typo2">{{item.date}}</span><br>
                    {{item.description | safe}}
                </li>        
            {% endfor %}
        </ul>
    </div>
    <div class="text-center mt">
        <button class="js_panneau-depliant js_bascule-visibilite__btn" data-zone="{{ basculeVisibiliteId }}">
            <span class="js_bascule-visibilite__passif">{{ basculeVisibiliteLabelOn }}</span>
            <span class="js_bascule-visibilite__actif hide">{{ basculeVisibiliteLabelOff }}</span>
        </button>
    </div>
    {% endif %}
{% endmacro %}




{% macro cartes(liste,margeTop) %}
    <ul class="reset df jc-sb gap2 carte js_scroll-x">
        {% for item in liste %}
            <li class="fg-1 df fd-c gap carte__item">
                <div class="df fd-c h-100">
                    {% if item.imageLarge %}
                        <img class="carte_img v_large" src="{{ item.image }}" alt="">
                    {% else %}
                        <div class="text-center">
                            {% if item.image %}
                                <img class="carte_img icone-dark" src="{{ item.image }}" alt="">
                            {% else %}
                                <img class="carte_img icone-dark" src="https://via.placeholder.com/400x100/375063/FFFFFF/?text=Visuel" alt="">
                            {% endif %}
                        </div>
                    {% endif %}
                
                    {% if item.baliseTitre == "h4" %}
                        <h4 class="text-center text-typo2 text-size1 text-fin mb-0 carte__titre">{{ item.titre }}</h4>
                    {% else %}
                        <h3 class="text-center text-typo2 text-size1 text-fin mb-0 carte__titre">{{ item.titre }}</h3>
                    {% endif %}
                    <div class="fg-1 carte__contenu">
                        {% for ligne in item.tableau %}
                            <div class="df jc-sb">
                                <span class="text-typo2 text-size2 p0">{{ ligne.duree }}</span>
                                <span class="text-typo2 text-size2 p0">{{ ligne.prix }}</span>
                            </div>
                        {% endfor %}
                        {% if item.contenu and item.tableau %}
                            <br>
                        {% endif %}
                        {{ item.contenu | safe }}
                    </div>
                    {% if item.hrefInscription %}
                        <p class="text-center carte__contenu">
                            {% if item.hrefInscription %}
                                <a href="{% if item.hrefMail %}mailto:{% endif %}{{ item.hrefInscription | safe }}" target="_blank" rel="external">
                                    {% if item.labelLien %}
                                        {{ item.labelLien }}
                                    {% else %}
                                        Inscription
                                    {% endif %}
                                </a>
                            {% endif %}
                        </p>
                    {% endif %}
                </div>
            </li>
         {% endfor %}
    </ul>
{% endmacro %}




{% macro temoignage(liste) %}
    <div class="df gap fd-c">
        {% for item in liste %}
            {% if loop.index =="1" %}
                <div class="df ai-c gap2 mt">
                    <img src="{{item.srcImage}}" alt="{{item.altImage}}" class="temoignage__image icone-dark fs-0">
                    <figure>
                        <blockquote>
                            <p>
                                <span class="text-size1">&laquo;</span>
                                {{item.contenu}}
                                <span class="text-size1">&raquo;</span>
                            </p>
                        </blockquote>
                        <figcaption>
                            <cite class="text-size1 text-typo2">
                                {{item.nom}}
                            </cite>
                        </figcaption>
                    </figure>
                </div>
            {% endif %}   
        {% endfor %}
        <div class="js_bascule-visibilite__zone hide" data-zone="temoignage">
            <div class="df gap fd-c">
                {% for item in liste %}
                    {% if loop.index !="1" %}
                        <div class="df ai-c gap2">
                            {% if loop.index % 2 == 0 %}
                                <figure>
                                    <blockquote>
                                        <p>
                                            <span class="text-size1">&laquo;</span>
                                            {{item.contenu}}
                                            <span class="text-size1">&raquo;</span>
                                        </p>
                                    </blockquote>
                                    <figcaption>
                                        <cite class="text-size1 text-typo2">
                                            {{item.nom}}
                                        </cite>
                                    </figcaption>
                                </figure>
                                <img src="{{item.srcImage}}" alt="{{item.altImage}}" class="temoignage__image icone-dark fs-0">
                            {% else %}
                                <img src="{{item.srcImage}}" alt="{{item.altImage}}" class="temoignage__image icone-dark fs-0">
                                <figure>
                                    <blockquote>
                                        <p>
                                            <span class="text-size1">&laquo;</span>
                                            {{item.contenu}}
                                            <span class="text-size1">&raquo;</span>
                                        </p>
                                    </blockquote>
                                    <figcaption>
                                        <cite class="text-size1 text-typo2">
                                            {{item.nom}}
                                        </cite>
                                    </figcaption>
                                </figure>
                            {% endif %}
                        </div>
                    {% endif %} 
                {% endfor %}
            </div>
        </div>
        <div class="text-center">
            <button class="js_panneau-depliant js_bascule-visibilite__btn" data-zone="temoignage">
                <span class="js_bascule-visibilite__passif">Voir plus de témoignages</span>
                <span class="js_bascule-visibilite__actif hide">Voir moins de témoignages</span>
            </button>
        </div>
    </div>
{% endmacro %}